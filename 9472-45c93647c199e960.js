"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9472],{239:(e,t,a)=>{a.d(t,{I:()=>s});var r=a(2115);let s=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:480,[a,s]=(0,r.useState)(e);return(0,r.useEffect)(()=>{let e=()=>{s(window.innerWidth<=t)};if(e(),"undefined"==typeof ResizeObserver)return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)};{let t=new ResizeObserver(()=>{e()});return t.observe(document.body),()=>{t.disconnect()}}},[t]),a}},6846:(e,t,a)=>{a.d(t,{cn:()=>l});var r=a(2596),s=a(9688);function l(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,s.QP)((0,r.$)(t))}},7023:(e,t,a)=>{a.d(t,{Z:()=>i,m:()=>c});var r=a(5155),s=a(8834),l=a.n(s),n=a(2115),o=a(750),i=function(e){return e.Hover="hover",e.Click="click",e.None="none",e}({});let c=e=>{let{emoji:t,className:a,width:s=20,height:i=20,selected:c=!1,triggerType:d="hover",...u}=e,x=(0,n.useRef)(null),[f,m]=(0,n.useState)(!1),p=(0,n.useRef)(null),{getLottieData:h}=(0,o.k)(),v=(0,n.useRef)(""),[b,j]=(0,n.useState)(!1),g=(0,n.useCallback)(()=>{p.current&&(p.current.destroy(),p.current=null),j(!1)},[]),w=(0,n.useCallback)(function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];if(!x.current||!(null==t?void 0:t.lottie))return;if(t.lottie===v.current&&p.current){j(!0);return}v.current=t.lottie,g();let a=h(t.lottie);p.current=l().loadAnimation({container:x.current,renderer:"svg",loop:e,autoplay:!0,...a?{animationData:a}:{path:t.lottie}}),p.current.addEventListener("DOMLoaded",()=>{j(!0)}),p.current.addEventListener("error",g)},[null==t?void 0:t.lottie,h,g]);(0,n.useEffect)(()=>{"hover"===d&&(f?w():g())},[f,w,g,d]),(0,n.useEffect)(()=>{"click"===d&&(c?w(!1):g())},[c,w,g,d]),(0,n.useEffect)(()=>g,[g]);let y="".concat(null==t?void 0:t.interaction_type,"-").concat(s,"-").concat(i),k=()=>"none"!==d&&("hover"===d?f:"click"===d&&c);return(0,r.jsx)("div",{className:a,...u,onMouseEnter:()=>m(!0),onMouseLeave:()=>m(!1),children:(0,r.jsxs)("div",{style:{position:"relative",width:s,height:i},children:[(0,r.jsx)("div",{ref:x,style:{position:"absolute",top:0,left:0,width:s,height:i,opacity:b&&k()?1:0,zIndex:1}}),(0,r.jsx)("div",{style:{position:"absolute",top:0,left:0,width:s,height:i,opacity:b&&k()?0:1},children:(null==t?void 0:t.icon)?(0,r.jsx)("img",{src:t.icon,alt:(null==t?void 0:t.display_name)||"",width:s,height:i,style:{width:s,height:i}},y):null})]})})}},7606:(e,t,a)=>{a.d(t,{A:()=>o});var r=a(5155),s=a(2115),l=a(6389),n=a(6846);let o=e=>{let{className:t,hoverAlign:a="center",points:o}=e,[i,c]=(0,s.useState)(!1),d=(0,s.useRef)(null),{track:u}=(0,l.s)(),[x,f]=(0,s.useState)(0);return(0,s.useEffect)(()=>{d.current&&f(d.current.offsetWidth)},[d.current]),(0,s.useEffect)(()=>{u("knot_num_show",{knot_num:o})},[o]),(0,r.jsxs)("div",{className:(0,n.cn)("relative inline-block",t),children:[i&&(0,r.jsxs)("div",{className:(0,n.cn)("absolute bottom-full z-10 mb-3 w-[280px] rounded-[12px] bg-white p-4 shadow-lg","left"===a?"left-0":"left-1/2 -translate-x-1/2"),children:[(0,r.jsxs)("div",{className:"text-[12px] text-black/65",children:["Knot is earned through views, emoji reactions, and remixes on your projects—designed to reward creativity and real engagement. Suspicious or inauthentic activity won't count. ",(0,r.jsx)("br",{})," ",(0,r.jsx)("br",{}),"You’ll be able to cash out your knot in the future."]}),(0,r.jsx)("div",{className:"absolute top-full h-0 w-0 border-x-8 border-t-8 border-x-transparent border-t-white",style:{left:"left"===a?x/2:"50%",transform:"translateX(-50%)"}})]}),(0,r.jsxs)("div",{ref:d,className:"bg-brand/10 flex h-[18px] cursor-pointer items-center gap-0.5 rounded-[4px] px-1",onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),children:[(0,r.jsx)("span",{className:"text-brand text-[12px] font-bold",children:o.toLocaleString("en-US",{maximumFractionDigits:0})}),(0,r.jsx)("span",{className:"text-brand/65 text-[12px]",children:"Knot"})]})]})}},8161:(e,t,a)=>{a.d(t,{A:()=>h});var r=a(5155),s=a(8834),l=a.n(s),n=a(2115),o=function(e){return e.Image="image",e.Video="video",e.Unsupported="unsupported",e}(o||{});let i=["jpg","jpeg","png"],c=["mp4"],d=e=>{var t,a;if(!e||e.includes("placehold.co"))return"image";if(!URL.canParse(e))return"unsupported";let r=new URL(e).pathname.split("."),s=r.length>1&&null!==(a=null===(t=r.pop())||void 0===t?void 0:t.toLowerCase())&&void 0!==a?a:"";return c.includes(s)?"video":i.includes(s)?"image":"unsupported"},u=e=>{let{isLoading:t}=e;return(0,r.jsxs)("div",{className:"flex h-full w-full flex-col items-center justify-center bg-black/3",children:[(0,r.jsx)("img",{src:"/images/failed-image.svg",alt:"failed",width:50,height:50}),(0,r.jsx)("div",{className:"mt-3 text-[16px] text-black/30",children:t?"No Cover Detected":"The cover format is wrong."})]})},x=()=>{let e=(0,n.useRef)(null);return(0,n.useEffect)(()=>{if(e.current){let t=l().loadAnimation({container:e.current,renderer:"svg",loop:!0,autoplay:!0,path:"/animations/lottie-task-loading.json"});return()=>{t.destroy()}}},[]),(0,r.jsxs)("div",{className:"flex h-full w-full flex-col items-center justify-center bg-black/3 pb-10",children:[(0,r.jsx)("div",{ref:e,className:"h-[110px] w-[110px]"}),(0,r.jsx)("div",{className:"mt-[-18px] text-[16px] font-normal text-black/30",children:"Uploading..."})]})},f=(0,n.memo)(e=>{let{url:t,alt:a,className:s}=e,[l,o]=(0,n.useState)(!1);return!t||t.includes("placehold.co")?(0,r.jsx)(u,{isLoading:!0}):l?(0,r.jsx)(u,{isLoading:!1}):(0,r.jsx)("div",{className:"relative h-full w-full",children:(0,r.jsx)("img",{src:t,alt:null!=a?a:"",loading:"lazy",sizes:"100%",width:"100%",height:"100%",className:"h-full w-full bg-black/3 object-cover ".concat(s),onError:()=>{o(!0)}})})});f.displayName="ImageCover";let m=(0,n.forwardRef)((e,t)=>{let{url:a,className:s}=e,l=(0,n.useRef)(null),[o,i]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{t&&"object"==typeof t&&(t.current={play:()=>{if(!e.alwaysAnimated){var t;null===(t=l.current)||void 0===t||t.play()}},pause:()=>{if(!e.alwaysAnimated){var t;null===(t=l.current)||void 0===t||t.pause()}}})},[e.alwaysAnimated]),(0,r.jsx)("div",{className:"relative h-full w-full overflow-hidden bg-black/3 ".concat(s),children:o?(0,r.jsx)(u,{isLoading:!1}):(0,r.jsx)("video",{ref:l,src:a,className:"h-full w-full object-cover",muted:!0,playsInline:!0,loop:!0,controls:!1,autoPlay:e.alwaysAnimated,onError:()=>{i(!0)}})})}),p=(0,n.memo)((0,n.forwardRef)((e,t)=>{if(e.isUploading)return(0,r.jsx)(x,{});switch(d(e.url)){case"image":return(0,r.jsx)(f,{...e});case"video":return(0,r.jsx)(m,{...e,ref:t});case"unsupported":return(0,r.jsx)(u,{isLoading:!1})}return null}));p.displayName="MediaCover";let h=p},8538:(e,t,a)=>{a.d(t,{X:()=>r});let r=(e,t)=>{let a=window.location.host.includes("youware.com")?"youware.com":"yourware.so";if("upload"===t)return e.replace(/(youware\.com|yourware\.so)/,a);let r=new URLSearchParams(window.location.search);t&&r.set("enter_from",t);let s=r.toString();return e.replace(/(youware\.com|yourware\.so)/,a)+(s?"?".concat(s):"")}},9472:(e,t,a)=>{a.r(t),a.d(t,{default:()=>T});var r=a(5155),s=a(5427),l=a(6874),n=a.n(l),o=a(5695),i=a(2115),c=a(862),d=a(6139),u=a(239);let x={showBanner:()=>{try{let e=localStorage.getItem("banner_close_date");if(!e)return!0;let t=new Date().toISOString().split("T")[0];return e!==t}catch(e){return!1}},closeBanner:()=>{try{let e=new Date().toISOString().split("T")[0];localStorage.setItem("banner_close_date",e)}catch(e){}}},f=e=>{let{showBanner:t=!0,onClose:a}=e,[l,n]=(0,i.useState)(!1),o=(0,u.I)(!1,840);(0,i.useEffect)(()=>{n(x.showBanner())},[]);let c=e=>{e.stopPropagation(),e.preventDefault(),window.open("https://discord.gg/youware","_blank")};return t&&l?(0,r.jsx)("div",{className:"fixed top-0 right-0 left-0 z-[40] flex h-[64px] items-center bg-[#3E413C] px-4 min-[840px]:h-[50px]",onClick:o?c:void 0,children:(0,r.jsxs)("div",{className:"z-10 flex flex-1 items-center justify-between min-[840px]:justify-center",children:[(0,r.jsxs)("div",{className:"text-[14px] text-[#C4AA7A] min-[840px]:text-[16px]",children:[(0,r.jsx)("b",{children:"Earn knot"})," from views, reactions & remixes — cash-out coming soon!"]}),(0,r.jsxs)("div",{className:"ml-3 flex items-center",children:[(0,r.jsx)("div",{className:"text-brand hidden rounded-[10px] bg-[#F6F4F1] px-2.5 py-2 text-[12px] hover:cursor-pointer hover:opacity-85 min-[840px]:block",onClick:c,children:"Get more info"}),(0,r.jsx)(s.Qks,{className:"ml-1 h-4 w-4 text-[#C4AA7A] hover:cursor-pointer hover:opacity-85 min-[840px]:absolute min-[840px]:right-[22px]",onClick:e=>{e.stopPropagation(),e.preventDefault(),n(!1),x.closeBanner(),a&&a()}})]})]})}):null};var m=a(4477);let p=(0,m.createServerReference)("00f3bc92f685a0f844c2d09a49c128dfdbbe4dca53",m.callServer,void 0,m.findSourceMapURL,"getUnreadCount"),h=(0,m.createServerReference)("00c129a22f40e70098856953d0c19e90c003042b7c",m.callServer,void 0,m.findSourceMapURL,"markAllAsRead");var v=a(6389),b=a(2128),j=a(6846);let g=(0,m.createServerReference)("4098bf77ecf0e98f35cdcf3d1f804470b881e2cedc",m.callServer,void 0,m.findSourceMapURL,"getNotifications");var w=a(7023),y=a(8161),k=a(750),N=a(8538),_=a(832),S=a.n(_),C=a(6004),E=a.n(C),R=a(617),A=a.n(R);S().extend(E()),S().extend(A());let L=e=>{var t,a,s,l,n,o,i,c,d,u;let{notification:x}=e,{emojis:f}=(0,k.k)(),{track:m}=(0,v.s)(),p="official"===x.type,h=e=>{e.stopPropagation(),window.open("/profile/".concat(x.user.uid),"_blank"),m("notification_user_profile_click",{user_profile_url:"/user/".concat(x.user.uid)})},b=null!==(u=null!==(d=null===(t=x.project)||void 0===t?void 0:t.custom_cover_url)&&void 0!==d?d:null===(a=x.project)||void 0===a?void 0:a.cover_url)&&void 0!==u?u:"";return(0,r.jsxs)("div",{className:"flex w-full cursor-pointer items-center gap-2 overflow-visible rounded-[12px] p-4 transition-all hover:bg-black/3",onClick:()=>{if(x.project){let e=(0,N.X)(x.project.project_url,"notification_center");window.open(e,"_blank"),m("notification_project_cover_click",{project_url:e})}},children:[(0,r.jsxs)("div",{className:(0,j.cn)("group relative h-10 w-10 flex-shrink-0 overflow-hidden rounded-full border border-black/3",p?"":"cursor-pointer"),onClick:p?void 0:h,children:[p?(0,r.jsx)("img",{src:"/icons/logo-with-bg.svg",alt:"",className:"h-full w-full rounded-full"}):(null===(s=x.user)||void 0===s?void 0:s.photo_url)?(0,r.jsx)("img",{src:null===(l=x.user)||void 0===l?void 0:l.photo_url,alt:"",className:"h-full w-full rounded-full"}):(0,r.jsx)("div",{className:"flex h-full w-full items-center justify-center rounded-full bg-black/3 text-[14px] text-black/30",children:(null===(i=x.user)||void 0===i?void 0:null===(o=i.display_name)||void 0===o?void 0:null===(n=o.charAt(0))||void 0===n?void 0:n.toUpperCase())||"U"}),p?null:(0,r.jsx)("div",{className:"absolute inset-0 bg-black/12 opacity-0 transition-all group-hover:opacity-100"})]}),(0,r.jsxs)("div",{className:"flex flex-1 flex-shrink-1 flex-col justify-between overflow-x-auto",children:[(0,r.jsx)("div",{className:(0,j.cn)("flex items-center gap-2 self-start",p?"":"cursor-pointer hover:underline"),onClick:p?void 0:h,children:(0,r.jsx)("div",{children:p?"YouWare Team":x.user.display_name})}),(0,r.jsxs)("div",{className:"no-scrollbar flex w-auto items-center overflow-x-auto text-[12px] text-black/66",children:[p?(0,r.jsx)("span",{className:"flex-shrink-0",children:x.content}):"remix"===x.type?(0,r.jsx)("span",{className:"flex-shrink-0",children:"Remixed your project"}):(0,r.jsxs)("div",{className:"flex flex-shrink-1 items-center overflow-x-auto",children:[(0,r.jsx)("span",{className:"mr-[3px] flex-shrink-0",children:"Reacted:"}),(0,r.jsx)("div",{className:"no-scrollbar flex flex-shrink-1 items-center gap-0.5 overflow-scroll",children:null===(c=x.emojis)||void 0===c?void 0:c.map(e=>(0,r.jsx)(w.m,{emoji:f.find(t=>t.interaction_type===e),width:12,height:12},e))})]}),(0,r.jsxs)("div",{className:"flex-shrink-0",children:[(0,r.jsx)("span",{className:"mx-2",children:"\xb7"}),(0,r.jsx)("span",{children:function(e){let t=S()(e);return t.isToday()?t.format("HH:mm"):t.format("M/D")}(x.timestamp)})]})]})]}),(0,r.jsxs)("div",{className:"group relative h-10 w-10 flex-shrink-0 overflow-hidden rounded-[4px] border border-black/3",children:[b&&!b.includes("placehold.co")?(0,r.jsx)(y.A,{url:b,className:"h-10 w-10 object-cover"}):(0,r.jsx)("div",{className:"h-10 w-10 bg-black/6"}),(0,r.jsx)("div",{className:"absolute inset-0 bg-black/12 opacity-0 transition-all group-hover:opacity-100"})]})]})};function z(e){let{onClose:t,hasBanner:a=!1}=e,[l,n]=(0,i.useState)([]),[o,c]=(0,i.useState)(!0),[d,u]=(0,i.useState)(!1),[x,f]=(0,i.useState)(void 0),[m,p]=(0,i.useState)(!1),h=(0,i.useRef)(null),v=(0,i.useRef)(null),w=(0,i.useRef)(null),y=(0,i.useRef)(null);(0,i.useEffect)(()=>{k()},[]),(0,i.useEffect)(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow="auto"}),[]);let k=async()=>{try{c(!0),p(!1);let a=await g({cursor:null!=x?x:"",page_size:12});if(0===a.code&&a.data){var e,t;n(e=>{var t;return[...e,...(null===(t=a.data)||void 0===t?void 0:t.notifications)||[]]}),u((null===(e=a.data)||void 0===e?void 0:e.page_info.has_more)||!1),f((null===(t=a.data)||void 0===t?void 0:t.page_info.next_cursor)||void 0)}else b.vF.error("Failed to fetch notifications: ",void 0,a),p(!0)}catch(e){b.vF.error("Failed to fetch notifications:",e),p(!0)}finally{c(!1)}};(0,i.useEffect)(()=>{if(v.current&&v.current.disconnect(),!w.current||!d||m)return;let e=new IntersectionObserver(e=>{e[0].isIntersecting&&!o&&d&&!m&&k()},{root:y.current,rootMargin:"300px",threshold:.2});return e.observe(w.current),v.current=e,()=>{v.current&&v.current.disconnect()}},[o,d,m]);let N=()=>{k()};return(0,r.jsxs)("div",{className:(0,j.cn)("z-10 flex flex-col items-stretch rounded-[16px] border border-black/3 bg-white shadow-[0px_0px_2px_0px_rgba(0,0,0,0.1)]","absolute top-8 -right-12 m-1 w-[400px]","max-sm:fixed max-sm:right-0 max-sm:bottom-0 max-sm:left-0 max-sm:m-0 max-sm:w-screen max-sm:rounded-b-none",a?"max-sm:top-28":"max-sm:top-12"),children:[(0,r.jsx)("div",{ref:h,className:"fixed top-0 left-0 -z-1 h-full w-full",onClick:e=>{e.target===h.current&&(e.stopPropagation(),e.preventDefault(),t())}}),(0,r.jsxs)("div",{className:"m-5 mb-2 flex items-start justify-between",children:[(0,r.jsx)("h3",{className:"text-[20px] font-bold",children:"Notification"}),(0,r.jsx)(s.Qks,{className:"hover:text-brand h-4 w-4 cursor-pointer",onClick:t})]}),(0,r.jsx)(r.Fragment,{children:0===l.length?(0,r.jsx)("div",{className:"mb-2 flex h-36 w-full max-w-full items-center justify-center px-5",children:o?(0,r.jsx)(s.xNY,{className:"h-6 w-6 animate-spin text-black/65"}):m?(0,r.jsxs)("button",{onClick:N,className:"border-brand hover:bg-brand/10 flex cursor-pointer items-center gap-2 rounded-[8px] border px-2 py-1 text-[14px]",children:[(0,r.jsx)(s.Ll9,{className:"h-4 w-4"}),(0,r.jsx)("span",{children:"Retry"})]}):(0,r.jsx)("p",{className:"text-[12px] text-black/66",children:"You don't have any notifications."})}):(0,r.jsxs)("div",{ref:y,className:"mb-2 w-full max-w-full flex-1 space-y-2 overflow-y-scroll px-1 sm:max-h-[min(600px,calc(100vh-240px))]",children:[l.map((e,t)=>(0,r.jsxs)(i.Fragment,{children:[t>0&&e.is_read&&!l[t-1].is_read&&(0,r.jsxs)("div",{className:"flex items-center gap-1 p-4 text-[12px] text-black/65",children:[(0,r.jsx)("span",{children:"Earlier"}),(0,r.jsx)("div",{className:"h-px flex-1 bg-black/6"})]},"divider-".concat(t)),(0,r.jsx)(L,{notification:e},e.id)]},e.id)),d&&(0,r.jsx)("div",{ref:w,className:"flex items-center justify-center py-4",children:o?(0,r.jsx)(s.xNY,{className:"h-6 w-6 animate-spin text-black/65"}):m?(0,r.jsxs)("button",{onClick:N,className:"border-brand hover:bg-brand/10 flex cursor-pointer items-center gap-2 rounded-[8px] border px-2 py-1 text-[14px]",children:[(0,r.jsx)(s.Ll9,{className:"h-4 w-4"}),(0,r.jsx)("span",{children:"Load more"})]}):(0,r.jsx)("div",{className:"h-4 w-full"})})]})})]})}function I(e){let{hasBanner:t=!1}=e,[a,l]=(0,i.useState)(!1),[n,u]=(0,i.useState)(0),{track:x}=(0,v.s)(),{user:f}=(0,c.A)(),m=(0,o.useRouter)();(0,i.useEffect)(()=>{f&&setTimeout(()=>{g()},200)},[]);let g=async()=>{try{var e;let t=await p();"number"==typeof(null===(e=t.data)||void 0===e?void 0:e.unread_count)&&(u(t.data.unread_count),x("notification_entrance_show",{unread_message_num:t.data.unread_count}))}catch(e){b.vF.error("Failed to fetch notification count:",e)}},w=async()=>{if(l(!1),n){u(0);try{await h()}catch(e){b.vF.error("Failed to mark all notifications as read:",e)}}};return(0,r.jsxs)("div",{className:"relative ml-2",children:[(0,r.jsxs)("button",{className:(0,j.cn)("cursor-pointer rounded-[10px] p-2 transition-all hover:bg-black/3",a&&"bg-white"),onClick:()=>{if(!f){let e=(0,d.$)(!0);m.push("".concat(e,"/login?returnTo=").concat(encodeURIComponent(window.location.pathname+window.location.search)));return}l(!0),x("notification_entrance_click",{unread_message_num:n})},"aria-label":"Notifications",children:[(0,r.jsx)(s.EWM,{size:16,className:"cursor-pointer text-black/95"}),n>0&&(0,r.jsx)("div",{className:"absolute top-[6px] right-[5px] h-[11px] rounded-full bg-[#D42727] px-1 text-[8px] leading-[11px] text-white",children:n>99?"99+":n})]}),a&&(0,r.jsx)(z,{hasBanner:t,onClose:w})]})}var U=a(9137),F=a.n(U),M=a(7606),P=a(8436);let D=()=>{var e,t;let{user:a,logout:l}=(0,c.A)(),[n,d]=(0,i.useState)(!1),x=(0,i.useRef)(null),f=(0,o.useRouter)(),[m,p]=(0,i.useState)(""),{track:h}=(0,v.s)(),b=(0,i.useRef)(null),g=(0,u.I)(!1,1200),w=(0,i.useMemo)(()=>(null==a?void 0:a.plan)==="Pro",[null==a?void 0:a.plan]);(0,i.useEffect)(()=>{p(window.location.pathname)},[]),(0,i.useEffect)(()=>{let e=e=>{x.current&&!x.current.contains(e.target)&&d(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);let y=async()=>{try{await l(),f.push("/home")}catch(e){(0,P.P)({message:"Failed to logout, please try again later",type:"error"})}d(!1)},k=()=>{(null==a?void 0:a.uid)&&f.push("/profile/".concat(a.uid))},N=e=>{(null==a?void 0:a.uid)&&(w||h("sub_upgrade_click",{click_from:"subscribe"}),window.open("/subscription","_blank"))};return a?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:(0,j.cn)("bg-brand mr-3 flex cursor-pointer items-center gap-[3px] px-[5px] text-[12px] text-white",w?"h-5 rounded-[6px] font-bold":"h-[26px] rounded-[8px] px-2"),onClick:()=>N("header"),children:[w&&(0,r.jsx)(s.xsv,{className:"h-3 w-3"}),(0,r.jsx)("span",{children:w?"Pro":"Upgrade"})]}),(0,r.jsxs)("div",{ref:x,onMouseEnter:()=>{b.current&&(clearTimeout(b.current),b.current=null),d(!0)},onMouseLeave:()=>{b.current=setTimeout(()=>{d(!1)},300)},onClick:()=>{g?d(!0):k()},className:"jsx-29af56ad2ef10cea "+"relative cursor-pointer rounded-full p-1 ".concat(n&&"bg-black/6"),children:[(0,r.jsx)("div",{className:"jsx-29af56ad2ef10cea flex cursor-pointer items-center",children:(0,r.jsx)("div",{"aria-label":"Go to profile",className:"jsx-29af56ad2ef10cea "+"rounded-full bg-black/6 transition-transform focus:outline-none ".concat(m==="/profile/".concat(a.uid)&&"ring ring-black ring-offset-2"),children:(0,r.jsx)("img",{src:a.photo_url||"/images/avatar.svg",alt:"",width:24,height:24,className:"jsx-29af56ad2ef10cea overflow-hidden rounded-full object-cover"})})}),n&&(0,r.jsxs)("div",{style:{animation:"fadeIn 0.2s ease-out"},className:"jsx-29af56ad2ef10cea absolute top-10 right-0 z-10 w-[260px] rounded-[16px] border border-black/3 bg-white p-1 shadow-lg",children:[(0,r.jsxs)("div",{className:"jsx-29af56ad2ef10cea flex flex-col items-center gap-2 px-3 py-6",children:[a.photo_url?(0,r.jsx)("div",{onClick:k,className:"jsx-29af56ad2ef10cea h-16 w-16 cursor-pointer overflow-hidden rounded-full bg-black/6",children:(0,r.jsx)("img",{src:a.photo_url,alt:"User avatar",width:64,height:64,className:"jsx-29af56ad2ef10cea rounded-full object-cover"})}):(0,r.jsx)("div",{className:"jsx-29af56ad2ef10cea flex h-16 w-16 items-center justify-center rounded-full bg-black/6 text-xl text-gray-600",children:(null===(e=a.display_name)||void 0===e?void 0:e.charAt(0))||(null===(t=a.email)||void 0===t?void 0:t.charAt(0))||"U"}),(0,r.jsxs)("div",{className:"jsx-29af56ad2ef10cea space-y-0.5",children:[(0,r.jsx)("div",{className:"jsx-29af56ad2ef10cea w-full truncate text-center text-[16px] text-black/95 sm:text-[20px]",children:a.display_name||"User"}),(0,r.jsx)("div",{className:"jsx-29af56ad2ef10cea w-full truncate text-center text-[12px] text-black/65",children:a.email})]}),"number"==typeof a.coins&&(0,r.jsx)(M.A,{points:a.coins,hoverAlign:"center"})]}),(0,r.jsx)("div",{className:"jsx-29af56ad2ef10cea mx-3 my-1 h-px bg-black/6"}),(0,r.jsxs)("button",{onClick:k,className:"jsx-29af56ad2ef10cea flex h-10 w-full cursor-pointer items-center gap-2 rounded-[12px] px-3 text-black transition-colors hover:bg-black/6",children:[(0,r.jsx)(s.IuU,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"jsx-29af56ad2ef10cea text-black/95",children:"Profile"})]}),(0,r.jsxs)("button",{onClick:()=>N("subscribe"),className:"jsx-29af56ad2ef10cea flex h-10 w-full cursor-pointer items-center gap-2 rounded-[12px] px-3 text-black transition-colors hover:bg-black/6",children:[(0,r.jsx)(s.GDL,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"jsx-29af56ad2ef10cea text-black/95",children:"Subscribe"})]}),(0,r.jsx)("div",{className:"jsx-29af56ad2ef10cea mx-3 my-1 h-px bg-black/6"}),(0,r.jsxs)("button",{onClick:y,className:"jsx-29af56ad2ef10cea flex h-10 w-full cursor-pointer items-center gap-2 rounded-[12px] px-3 text-black transition-colors hover:bg-black/6",children:[(0,r.jsx)(s.jfQ,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"jsx-29af56ad2ef10cea text-black/95",children:"Logout"})]})]}),(0,r.jsx)(F(),{id:"29af56ad2ef10cea",children:"@-webkit-keyframes fadeIn{from{opacity:0;-webkit-transform:translatey(-10px);transform:translatey(-10px)}to{opacity:1;-webkit-transform:translatey(0);transform:translatey(0)}}@-moz-keyframes fadeIn{from{opacity:0;-moz-transform:translatey(-10px);transform:translatey(-10px)}to{opacity:1;-moz-transform:translatey(0);transform:translatey(0)}}@-o-keyframes fadeIn{from{opacity:0;-o-transform:translatey(-10px);transform:translatey(-10px)}to{opacity:1;-o-transform:translatey(0);transform:translatey(0)}}@keyframes fadeIn{from{opacity:0;-webkit-transform:translatey(-10px);-moz-transform:translatey(-10px);-o-transform:translatey(-10px);transform:translatey(-10px)}to{opacity:1;-webkit-transform:translatey(0);-moz-transform:translatey(0);-o-transform:translatey(0);transform:translatey(0)}}"})]})]}):null},T=e=>{let{showBanner:t=!1,hideRight:a=!1}=e,{user:l}=(0,c.A)(),u=(0,o.usePathname)(),[m,p]=(0,i.useState)("/"),[h,v]=(0,i.useState)(!1);(0,i.useEffect)(()=>{location.origin.includes(".app")&&p((0,d.$)())},[]),(0,i.useEffect)(()=>{v(x.showBanner())},[]);let b=t&&h;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(f,{showBanner:b,onClose:()=>{v(!1)}}),(0,r.jsx)("header",{className:"h-14 w-full",children:(0,r.jsxs)("div",{className:"bg-body fixed right-0 left-0 z-50 flex h-14 w-full items-center justify-between px-4 transition-all duration-300 ".concat(b?"top-[64px] min-[840px]:top-[50px]":"top-0"),children:[(0,r.jsx)(n(),{href:m,children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("img",{src:"/icons/logo.svg",alt:"",className:"text-brand h-6 w-6"}),(0,r.jsx)("div",{className:"mt-[3px] text-base text-black/95 lg:text-xl xl:text-[20px] ".concat(!a&&"max-[400px]:hidden"),children:"YouWare"}),(0,r.jsx)("div",{className:"rounded-sm border-[0.5px] border-black px-1 py-0.5 text-[10px] text-black",children:"Alpha"})]})}),!a&&(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(n(),{href:"https://discord.gg/youware",target:"_blank",className:"ml-2 cursor-pointer rounded-[10px] p-2 transition-all hover:bg-black/3",children:(0,r.jsx)(s.r53,{size:16,className:"text-black/95"})}),(0,r.jsx)(n(),{href:"/blog",className:"ml-2 cursor-pointer rounded-[10px] p-2 transition-all hover:bg-black/3 ".concat(u.startsWith("/blog")?"bg-white":""),children:(0,r.jsx)(s.cPU,{size:16,className:"text-black/95"})}),(0,r.jsx)(I,{hasBanner:b}),(0,r.jsx)("div",{className:"mx-3 h-[12px] w-[1px] bg-black/12"}),l?(0,r.jsx)(D,{}):(0,r.jsx)(n(),{href:(0,d.$)(!0)+"/login",className:"bg-brand rounded-[10px] px-3 py-2 text-sm leading-[16px] text-white",children:"Sign up"})]})]})})]})}}}]);